!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){n(3),t.exports=n(0)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(2),n(0);var a,r=document.querySelector("[data-slider=pos]"),o=document.querySelector("[data-slider=neg]"),i=document.querySelector("canvas"),u=i.getContext("2d"),d=null,l=null,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"../images/photos/indoor/001.jpg",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"../images/masks/indoor/001.png";d=null,l=null,(l=new Image).src=t+"?"+(new Date).getTime(),l.setAttribute("crossOrigin",""),l.addEventListener("load",(function(){i.width=l.naturalWidth,i.height=l.naturalHeight,u.getImageData(0,0,i.width,i.height).data,g(e).then((function(){return s()})).then((function(t){u.putImageData(t,0,0)}))}))},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n,a){u.drawImage(l,0,0,i.width,i.height);for(var r=u.getImageData(0,0,i.width,i.height),o=r.data,c=0;c<o.length;c+=4){var s=c,g=c+1,f=c+2;o[s]=d[s]>=0?o[s]+t*d[s]:o[s]+e*d[s],o[s]=Math.floor(o[s]),o[f]=d[f]>=0?o[f]+t*d[f]:o[f]+e*d[f],o[f]=Math.floor(o[f]),o[g]=d[g]>=0?o[g]+t*d[g]:o[g]+e*d[g],o[g]=Math.floor(o[g])}n(r)}))},g=function(t){return new Promise((function(e,n){var a=new Image;a.src=t+"?"+(new Date).getTime(),a.setAttribute("crossOrigin",""),a.addEventListener("load",(function(){i.width=a.naturalWidth,i.height=a.naturalHeight,u.drawImage(a,0,0,i.width,i.height),a.style.display="none";for(var t=u.getImageData(0,0,i.width,i.height),n=Array.prototype.slice.call(t.data),r=0;r<n.length;r++)n[r]=2*n[r]-255;d=n,e(n)}),!1)}))};function f(t,e){s(t,e).then((function(t){u.putImageData(t,0,0)}))}var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;document.querySelector('[data-slider="pos"]').value=100*t,document.querySelector('[data-slider="neg"]').value=100*e},m=function(t){void 0!==t.target.dataset.mode&&(t.target.dataset.mode,f(),h())},v=function(t){void 0!==t.target.dataset.imageFile&&void 0!==t.target.dataset.maskFile&&(h(0,0),c(t.target.dataset.imageFile,t.target.dataset.maskFile))},p=function(t){void 0!==a&&clearTimeout(a),a=setTimeout((function(){f((r.value/100).toFixed(2),(o.value/100).toFixed(2))}),100)},y=function(t){void 0!==t.target.dataset.pos&&void 0!==t.target.dataset.neg&&(h(t.target.dataset.pos,t.target.dataset.neg),f(t.target.dataset.pos,t.target.dataset.neg))};document.querySelectorAll("[data-slider]").forEach((function(t){return t.addEventListener("input",p,!1)})),document.querySelectorAll("[data-preset]").forEach((function(t){return t.addEventListener("click",y,!1)})),document.querySelectorAll("[data-image]").forEach((function(t){return t.addEventListener("click",v,!1)})),document.querySelectorAll("[data-mode]").forEach((function(t){return t.addEventListener("click",m,!1)})),c()}]);