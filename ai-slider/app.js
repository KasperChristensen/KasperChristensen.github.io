!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){n(3),t.exports=n(0)},function(t,e,n){},function(t,e,n){"use strict";function a(t,e){getImageColorData(t,e).then((function(t){ctx.putImageData(t,0,0)}))}n.r(e);n(0),n(2);var r,o=document.querySelector("[data-slider=pos]"),i=document.querySelector("[data-slider=neg]"),u=document.querySelector("canvas"),d=u.getContext("2d"),l=null,c=null,g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"../images/photos/indoor/001.jpg",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"../images/masks/indoor/001.png";console.log("heyzan"),l=null,c=null,(c=new Image).src=t+"?"+(new Date).getTime(),c.setAttribute("crossOrigin",""),c.addEventListener("load",(function(){u.width=c.naturalWidth,u.height=c.naturalHeight,d.getImageData(0,0,u.width,u.height).data,f(e).then((function(){return s()})).then((function(t){d.putImageData(t,0,0)}))}))},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n,a){d.drawImage(c,0,0,u.width,u.height);for(var r=d.getImageData(0,0,u.width,u.height),o=r.data,i=0;i<o.length;i+=4){var g=i,s=i+1,f=i+2;o[g]=l[g]>=0?o[g]+t*l[g]:o[g]+e*l[g],o[g]=Math.floor(o[g]),o[f]=l[f]>=0?o[f]+t*l[f]:o[f]+e*l[f],o[f]=Math.floor(o[f]),o[s]=l[s]>=0?o[s]+t*l[s]:o[s]+e*l[s],o[s]=Math.floor(o[s])}n(r)}))},f=function(t){return new Promise((function(e,n){var a=new Image;a.src=t+"?"+(new Date).getTime(),a.setAttribute("crossOrigin",""),a.addEventListener("load",(function(){u.width=a.naturalWidth,u.height=a.naturalHeight,d.drawImage(a,0,0,u.width,u.height),a.style.display="none";for(var t=d.getImageData(0,0,u.width,u.height),n=Array.prototype.slice.call(t.data),r=0;r<n.length;r++)n[r]=2*n[r]-255;l=n,e(n)}),!1)}))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;document.querySelector('[data-slider="pos"]').value=100*t,document.querySelector('[data-slider="neg"]').value=100*e},m=function(t){void 0!==t.target.dataset.mode&&(t.target.dataset.mode,a(),h())},v=function(t){void 0!==t.target.dataset.imageFile&&void 0!==t.target.dataset.maskFile&&(h(0,0),g(t.target.dataset.imageFile,t.target.dataset.maskFile))},p=function(t){void 0!==r&&clearTimeout(r),r=setTimeout((function(){a((o.value/100).toFixed(2),(i.value/100).toFixed(2))}),100)},y=function(t){void 0!==t.target.dataset.pos&&void 0!==t.target.dataset.neg&&(h(t.target.dataset.pos,t.target.dataset.neg),a(t.target.dataset.pos,t.target.dataset.neg))};document.querySelectorAll("[data-slider]").forEach((function(t){return t.addEventListener("input",p,!1)})),document.querySelectorAll("[data-preset]").forEach((function(t){return t.addEventListener("click",y,!1)})),document.querySelectorAll("[data-image]").forEach((function(t){return t.addEventListener("click",v,!1)})),document.querySelectorAll("[data-mode]").forEach((function(t){return t.addEventListener("click",m,!1)})),g()}]);